---
marp: true
title: Mysteries of parallelization
size: 4:3

theme: gaia
color: #000

style: |
  section {
    background-color: #fff;
  }

  section.lead h1 {
    text-align: center;
  }
  section.lead h2 {
    text-align: center;
  }
  section.lead h3 {
    text-align: center;
  }
  section.lead h4 {
    text-align: center;
  }
  section.lead p {
    text-align: center;
  }

  section p, li {
    font-size1: 22pt;
    font-size: 0.92em;
  }

---

<!-- paginate: false -->
<!--- _class: lead --->

# Распараллеливание вычислений

</br>

### С.А.Романенко</br>

ИПМ им. М.В. Келдыша РАН, Москва  
28 февраля 2021

---

<!-- paginate: true -->

### Застой в информатике

В информатике наблюдался застой где-то с середины
70-х годов.

Причины:

- Безраздельно доминировал один тип вычислительных устройств: фон-неймановская 
  машина (ФНМ).

- Необычайная гибкость фон-неймановской машины делала жизнь
программистов слишком лёгкой. 

---

### Специфические свойства ФНМ

- Последовательное исполнение команд.
  - Нет проблем с синхронизацией. Если надо решить 2 задачи, то
    решаем сначала 1-ю, а потом -- 2-ю (или наоборот).

- Большая и однородная память.
  - Из любой части программы можно в любой момент "протянуть руку" к любому 
    месту памяти.
  - Данные неподвижно лежат в том месте, куда их положили. Поэтому,
    одни данные могут ссылаться на другие. А с помощью ссылок можно
    создавать сложные структуры данных (списки, деревья).

---

### Параллельные вычислители

- Многопроцессорность (multiprocessing).
  - Много процессоров (на плате или в шкафу).
  - Память у процессоров, может быть, общая, а, может быть,
    и нет.
- Многоядерность (multi-core processsor).
  - Несколько процессоров (ядер) в одном чипе.
  - Память для всех ядер - общая.
- Векторные операции (SIMD = single instruction, multiple data).
  - Одна команда может исполняться над несколькими данными.

---

### А как же программируемая логика (ПЛИС, FPGA)?

А дело в том, что ПЛ, это **не архитектура**, а **средство
реализации** различных архитектур.

* Реализовать архитектуру можно только если она уже придумана.
* Если взять одну из известных архитектур, то для неё уже есть
  готовые реализации.
* Но можно придумать новую, неслыханную архитектуру - и реализовать
  прототип с помощью ПЛ. А потом - заказать чипы.

---

### Недостатки ПЛ с точки зрения программиста

* Изобретение новых архитектур - это не программирование,
а несколько иная специальность.
* А если использовать известную архитектуру, то реализовывать
её через ПЛ - нецелесообразно (дорого и медленно работает).
* Компиляция ппрограмм для известных архитектур происходит
за секунды, а синтез схем для ПЛ может тянуться часами.
(Нечеловеческие условия работы...)

---

### Что распараллеливать?

- Программу.
  - Вставляем директивы для компилятора.
  - Реорганизуем программу.

- Алгоритм.
  - Выявляем скрытый параллелизм.
  - Реорганизуем алгоритм.
  - **Заменяем на другой алгоритм.**

- Метод.
  - Изменяем или заменяем метод.
